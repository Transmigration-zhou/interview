[toc]

## 1.关系型数据库和非关系型数据库区别

关系型数据库：MySQL、Oracle

非关系型数据库：NoSQL、Redis

- 结构：MySQL采用==二维表结构==，NoSQL==以键值对存储==。

- 查询速度：NoSQL数据库将数据==存储于缓存==之中，MySQL将数据==存储在硬盘==中，自然查询速度远不及NoSQL数据库。

- 存储数据的格式：NoSQL的存储格式是key,value形式、文档形式、图片形式等等，所以可以存储基础类型以及对象或者是集合等各种格式，而数据库则只支持基础类型。

- 安全性：MySQL有事务级别，所以安全性高，NoSQL相对低。

- 数据一致性：MySQL的数据有ACID四个特性，保证数据的隔离性，原子性，一致性，持久性，NoSQL不保证一致性，可能查询到中间态的一个数据。

  

***

关系型数据库：指采用了关系模型来组织数据的数据库。
关系模型指的就是二维表格模型，而一个关系型数据库就是由二维表及其之间的联系所组成的一个数据组织。

**关系型数据库的优点：**

- 1.容易理解：二维表结构是非常贴近逻辑世界的一个概念，关系模型相对网状、层次等其他模型来说更容易理解
- 2.使用方便：通用的SQL语言使得操作关系型数据库非常方便
- 3.易于维护：丰富的完整性(实体完整性、参照完整性和用户定义的完整性)大大减低了数据冗余和数据不一致的概率
- 4.支持SQL，可用于复杂的查询。
- 5.支持事务，安全性高

非关系型数据库：指非关系型的，==分布式==的，且一般不保证遵循`ACID`原则的数据存储系统。

为了==处理海量数据==，但==不适用于持久存储==

**非关系型数据库结构：**

非关系型数据库以键值对存储，且结构不固定，每一个元组可以有不一样的字段，每个元组可以根据需要增加一些自己的键值对，不局限于固定的结构，可以减少一些时间和空间的开销。



## 2.数据库三范式

三大范式（每一范式都在前一范式的基础上）
第一范式：每一列都是不可分割的原子项
第二范式：每一列都与主键列相关
第三范式：每一列与主键列直接相关



## 3.一条SQL语句查询语句是怎么执行

https://www.cnblogs.com/wupeixuan/p/11626024.html

MySQL 分为 ==Server 层==和==存储引擎层==两部分。

![MySql的逻辑架构图](https://gitee.com/Transmigration_zhou/pic/raw/master/img/20220224145046)

1. MySQL 客户端与服务器间建立连接，客户端发送一条查询给服务器；
2. 服务器先检查查询缓存，如果命中了缓存，则立刻返回存储在缓存中的结果；否则进入下一阶段；
3. 服务器端进行 SQL 解析、预处理，生成合法的解析树；
4. 再由优化器生成对应的执行计划；
5. MySQL 根据优化器生成的执行计划，调用相应的存储引擎的 API 来执行，并将执行结果返回给客户端。



## 4.视图

视图是一种虚表，与包含数据的表不一样，视图只包含使用时动态检索数据的查询，不包含任何列或数据。

使用视图可以简化复杂的 sql 操作，隐藏具体的细节，保护数据。

视图创建后，可以使用与表相同的方式利用它们。

视图不能被索引，也不能有关联的触发器或默认值，如果视图本身内有order by 则对视图再次order by将被覆盖。

创建视图 :

```sql
create view 视图名 as 查询语句;
```

对于某些视图比如未使用联结子查询分组聚集函数Distinct Union等，是可以对其更新的，对视图的更新将对基表进行更新；但是视图主要用于简化检索，保护数据，并不用于更新，而且大部分视图都不可以更新。

如果开发过程中，遇到的情景满足==简单、安全、数据独立==的情况下就可以使用视图。

**简单**：使用视图的用户不需要关心后面对应表的结构，关联，筛选条件，这是一个过滤好的符合条件的结果集。（重用子查询）

**安全**：使用一个视图的用户只能看到特定的行和列，这种权限限制是表权限管理无法做到的。（项目经理只想我们看到用户名，不想让我们看到密码，就基于用户表的查询，建立一个视图）

**数据独立**：一旦视图的结构确定，可以屏蔽表结构变化对视图的影响，原表增加列对于视图没有影响，但是修改列名，要修改视图，原表增删改数据，视图会自动更新。
